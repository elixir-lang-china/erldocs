<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>erl_malloc (erl_interface) -  - erldocs.com (Erlang Documentation)</title>
    <link rel="search" type="application/opensearchdescription+xml" title="erldocs" href="/search.xml"/>
    <link type="text/css" rel="stylesheet" href="../erldocs.css"/>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_require', 'inpage_linkid', '//www.google-analytics.com/plugins/ga/inpage_linkid.js']);
      _gaq.push(['_setAccount', 'UA-44246018-1']);
      _gaq.push(['_setDomainName', 'erldocs.com']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  &lt;h1&gt;erl_malloc&lt;/h1&gt;
  &lt;libsummary&gt;Memory Allocation Functions&lt;/libsummary&gt;
  &lt;div class=&quot;description&quot;&gt;
    &lt;p&gt;This module provides functions for allocating and deallocating
      memory.&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;functions&quot;&gt;&lt;h4&gt;Functions&lt;/h4&gt;&lt;hr  /&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;pre&gt;ETERM * erl_alloc_eterm(etype)&lt;/pre&gt;
      
      &lt;ul class=&quot;type&quot;&gt;
        &lt;li&gt;&lt;code&gt;unsigned char etype;&lt;/code&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function allocates an &lt;code&gt;(ETERM)&lt;/code&gt; structure.
          Specify &lt;code&gt;etype&lt;/code&gt; as one of the following constants:&lt;/p&gt;
        &lt;list type=&quot;bulleted&quot;&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_INTEGER&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_U_INTEGER &lt;code&gt;/* unsigned integer */&lt;/code&gt;&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_ATOM&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_PID &lt;code&gt;/* Erlang process identifier */&lt;/code&gt;&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_PORT&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_REF &lt;code&gt;/* Erlang reference */&lt;/code&gt;&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_LIST&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_EMPTY_LIST&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_TUPLE&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_BINARY&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_FLOAT&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_VARIABLE&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_SMALL_BIG &lt;code&gt;/* bignum */&lt;/code&gt;&lt;/p&gt;
          &lt;/item&gt;
          &lt;item&gt;
            &lt;p&gt;ERL_U_SMALL_BIG &lt;code&gt;/* bignum */&lt;/code&gt;&lt;/p&gt;
          &lt;/item&gt;
        &lt;/list&gt;
        &lt;p&gt;&lt;code&gt;ERL_SMALL_BIG&lt;/code&gt; and &lt;code&gt;ERL_U_SMALL_BIG&lt;/code&gt; are for
          creating Erlang &lt;code&gt;bignums&lt;/code&gt;, which can contain integers of
          arbitrary size. The size of an integer in Erlang is machine
          dependent, but in general any integer larger than 2^28
          requires a bignum.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;pre&gt;void erl_eterm_release(void)&lt;/pre&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;Clears the 
          freelist, where blocks are placed when they are
          released by &lt;code&gt;erl_free_term()&lt;/code&gt; and
          &lt;code&gt;erl_free_compound()&lt;/code&gt;. &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;pre&gt;void erl_eterm_statistics(allocated, freed)&lt;/pre&gt;
      
      &lt;ul class=&quot;type&quot;&gt;
        &lt;li&gt;&lt;code&gt;long *allocated;&lt;/code&gt;&lt;/li&gt;
        &lt;li&gt;&lt;code&gt;long *freed;&lt;/code&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;&lt;code&gt;allocated&lt;/code&gt; and &lt;code&gt;freed&lt;/code&gt; are initialized to
          contain information about the fix-allocator used to allocate
          ETERM components. &lt;code&gt;allocated&lt;/code&gt; is the number of blocks
          currently allocated to ETERM objects. &lt;code&gt;freed&lt;/code&gt; is the
          length of the freelist, where blocks are placed when they are
          released by &lt;code&gt;erl_free_term()&lt;/code&gt; and
          &lt;code&gt;erl_free_compound()&lt;/code&gt;. &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;pre&gt;void erl_free_array(array, size)&lt;/pre&gt;
      
      &lt;ul class=&quot;type&quot;&gt;
        &lt;li&gt;&lt;code&gt;ETERM **array;&lt;/code&gt;&lt;/li&gt;
        &lt;li&gt;&lt;code&gt;int size;&lt;/code&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function frees an array of Erlang terms.&lt;/p&gt;
        &lt;p&gt;&lt;code&gt;array&lt;/code&gt; is an array of ETERM* objects.
          &lt;/p&gt;
        &lt;p&gt;&lt;code&gt;size&lt;/code&gt; is the number of terms in the array.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;pre&gt;void erl_free_term(t)&lt;/pre&gt;
      
      &lt;ul class=&quot;type&quot;&gt;
        &lt;li&gt;&lt;code&gt;ETERM *t;&lt;/code&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;Use this function to free an Erlang term.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;pre&gt;void erl_free_compound(t)&lt;/pre&gt;
      
      &lt;ul class=&quot;type&quot;&gt;
        &lt;li&gt;&lt;code&gt;ETERM *t;&lt;/code&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;Normally it is the programmer&#039;s responsibility to free each
          Erlang term that has been returned from any of the
          &lt;code&gt;erl_interface&lt;/code&gt; functions. However since many of the
          functions that build new Erlang terms in fact share objects
          with other existing terms, it may be difficult for the
          programmer to maintain pointers to all such terms in order to
          free them individually.
          &lt;/p&gt;
        &lt;p&gt;&lt;code&gt;erl_free_compound()&lt;/code&gt; will recursively free all of the
          sub-terms associated with a given Erlang term, regardless of
          whether we are still holding pointers to the sub-terms.
          &lt;/p&gt;
        &lt;p&gt;There is an example in the User Manual under &quot;Building
          Terms and Patterns&quot;
          &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;pre&gt;void erl_malloc(size)&lt;/pre&gt;
      
      &lt;ul class=&quot;type&quot;&gt;
        &lt;li&gt;&lt;code&gt;long size;&lt;/code&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function calls the standard 
          &lt;code&gt;malloc()&lt;/code&gt; function. &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;pre&gt;void erl_free(ptr)&lt;/pre&gt;
      
      &lt;ul class=&quot;type&quot;&gt;
        &lt;li&gt;&lt;code&gt;void *ptr;&lt;/code&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function calls the standard 
          &lt;code&gt;free()&lt;/code&gt; function. &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        &lt;ul id=&quot;funs&quot; /&gt;
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
