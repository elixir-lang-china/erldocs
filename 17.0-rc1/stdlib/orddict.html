<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>orddict (stdlib) -  - erldocs.com (Erlang Documentation)</title>
    <link rel="search" type="application/opensearchdescription+xml" title="erldocs" href="/search.xml"/>
    <link type="text/css" rel="stylesheet" href="../erldocs.css"/>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_require', 'inpage_linkid', '//www.google-analytics.com/plugins/ga/inpage_linkid.js']);
      _gaq.push(['_setAccount', 'UA-44246018-1']);
      _gaq.push(['_setDomainName', 'erldocs.com']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  &lt;h1&gt;orddict&lt;/h1&gt;
  &lt;h2 class=&quot;modsummary&quot;&gt;Key-Value Dictionary as Ordered List&lt;/h2&gt;
  &lt;div class=&quot;description&quot;&gt;
    &lt;p&gt;&lt;code&gt;Orddict&lt;/code&gt; implements a &lt;code&gt;Key&lt;/code&gt; - &lt;code&gt;Value&lt;/code&gt; dictionary.
      An &lt;code&gt;orddict&lt;/code&gt; is a representation of a dictionary, where a
      list of pairs is used to store the keys and values. The list is
      ordered after the keys.&lt;/p&gt;
    &lt;p&gt;This module provides exactly the same interface as the module
      &lt;code&gt;dict&lt;/code&gt; but with a defined representation. One difference is
      that while &lt;code&gt;dict&lt;/code&gt; considers two keys as different if they
      do not match (&lt;code&gt;=:=&lt;/code&gt;), this module considers two keys as
      different if and only if they do not compare equal
      (&lt;code&gt;==&lt;/code&gt;).&lt;/p&gt;
  &lt;/div&gt;

  &lt;datatypes&gt;
    &lt;datatype&gt;
      &lt;name name=&quot;orddict&quot; /&gt;
      &lt;div class=&quot;description&quot;&gt;&lt;p&gt;As returned by new/0.&lt;/p&gt;&lt;/div&gt;
    &lt;/datatype&gt;
  &lt;/datatypes&gt;

  &lt;div class=&quot;functions&quot;&gt;&lt;h4&gt;Functions&lt;/h4&gt;&lt;hr  /&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;append/3&quot;&gt;append/3&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function appends a new &lt;code&gt;&lt;anno&gt;Value&lt;/anno&gt;&lt;/code&gt; to the current list
          of values associated with &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt;.  An exception is
          generated if the initial value associated with &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; is
          not a list of values.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;append_list/3&quot;&gt;append_list/3&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function appends a list of values &lt;code&gt;&lt;anno&gt;ValList&lt;/anno&gt;&lt;/code&gt; to
          the current list of values associated with &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt;. An
          exception is generated if the initial value associated with
          &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; is not a list of values.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;erase/2&quot;&gt;erase/2&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function erases all items with a given key from a
          dictionary.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;fetch/2&quot;&gt;fetch/2&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function returns the value associated with &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt;
          in the dictionary &lt;code&gt;&lt;anno&gt;Orddict&lt;/anno&gt;&lt;/code&gt;. &lt;code&gt;fetch&lt;/code&gt; assumes that
          the &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; is present in the dictionary and an exception
          is generated if &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; is not in the dictionary.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;fetch_keys/1&quot;&gt;fetch_keys/1&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function returns a list of all keys in the dictionary.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;filter/2&quot;&gt;filter/2&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;&lt;code&gt;&lt;anno&gt;Orddict2&lt;/anno&gt;&lt;/code&gt; is a dictionary of all keys and values in
          &lt;code&gt;&lt;anno&gt;Orddict1&lt;/anno&gt;&lt;/code&gt; for which &lt;code&gt;&lt;anno&gt;Pred&lt;/anno&gt;(&lt;anno&gt;Key&lt;/anno&gt;, &lt;anno&gt;Value&lt;/anno&gt;)&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;find/2&quot;&gt;find/2&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function searches for a key in a dictionary. Returns
          &lt;code&gt;{ok, &lt;anno&gt;Value&lt;/anno&gt;}&lt;/code&gt; where &lt;code&gt;&lt;anno&gt;Value&lt;/anno&gt;&lt;/code&gt; is the value associated
          with &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt;, or &lt;code&gt;error&lt;/code&gt; if the key is not present in
          the dictionary.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;fold/3&quot;&gt;fold/3&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;Calls &lt;code&gt;&lt;anno&gt;Fun&lt;/anno&gt;&lt;/code&gt; on successive keys and values of
          &lt;code&gt;&lt;anno&gt;Orddict&lt;/anno&gt;&lt;/code&gt; together with an extra argument &lt;code&gt;Acc&lt;/code&gt;
          (short for accumulator). &lt;code&gt;&lt;anno&gt;Fun&lt;/anno&gt;&lt;/code&gt; must return a new
          accumulator which is passed to the next call. &lt;code&gt;&lt;anno&gt;Acc0&lt;/anno&gt;&lt;/code&gt; is
          returned if the list is empty. The evaluation order is
          undefined.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;from_list/1&quot;&gt;from_list/1&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function converts the &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; - &lt;code&gt;&lt;anno&gt;Value&lt;/anno&gt;&lt;/code&gt; list
          &lt;code&gt;&lt;anno&gt;List&lt;/anno&gt;&lt;/code&gt; to a dictionary.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;is_key/2&quot;&gt;is_key/2&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function tests if &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; is contained in
          the dictionary &lt;code&gt;&lt;anno&gt;Orddict&lt;/anno&gt;&lt;/code&gt;.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;map/2&quot;&gt;map/2&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;&lt;code&gt;map&lt;/code&gt; calls &lt;code&gt;&lt;anno&gt;Fun&lt;/anno&gt;&lt;/code&gt; on successive keys and values
          of &lt;code&gt;&lt;anno&gt;Orddict1&lt;/anno&gt;&lt;/code&gt; to return a new value for each key.
          The evaluation order is undefined.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;merge/3&quot;&gt;merge/3&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;&lt;code&gt;merge&lt;/code&gt; merges two dictionaries, &lt;code&gt;&lt;anno&gt;Orddict1&lt;/anno&gt;&lt;/code&gt; and
          &lt;code&gt;&lt;anno&gt;Orddict2&lt;/anno&gt;&lt;/code&gt;, to create a new dictionary.  All the &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt;
          - &lt;code&gt;&lt;anno&gt;Value&lt;/anno&gt;&lt;/code&gt; pairs from both dictionaries are included in
          the new dictionary.  If a key occurs in both dictionaries then
          &lt;code&gt;&lt;anno&gt;Fun&lt;/anno&gt;&lt;/code&gt; is called with the key and both values to return a
          new value. &lt;code&gt;merge&lt;/code&gt; could be defined as:&lt;/p&gt;
        &lt;pre class=&quot;sh_erlang&quot;&gt;
merge(Fun, D1, D2) -&amp;gt;
    fold(fun (K, V1, D) -&amp;gt;
                 update(K, fun (V2) -&amp;gt; Fun(K, V1, V2) end, V1, D)
         end, D2, D1).&lt;/pre&gt;
        &lt;p&gt;but is faster.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;new/0&quot;&gt;new/0&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function creates a new dictionary.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;size/1&quot;&gt;size/1&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;Returns the number of elements in an &lt;code&gt;&lt;anno&gt;Orddict&lt;/anno&gt;&lt;/code&gt;.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;is_empty/1&quot;&gt;is_empty/1&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;Returns &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;&lt;anno&gt;Orddict&lt;/anno&gt;&lt;/code&gt; has no elements, &lt;code&gt;false&lt;/code&gt; otherwise.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;store/3&quot;&gt;store/3&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function stores a &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; - &lt;code&gt;&lt;anno&gt;Value&lt;/anno&gt;&lt;/code&gt; pair in a
          dictionary. If the &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; already exists in &lt;code&gt;&lt;anno&gt;Orddict1&lt;/anno&gt;&lt;/code&gt;,
          the associated value is replaced by &lt;code&gt;&lt;anno&gt;Value&lt;/anno&gt;&lt;/code&gt;.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;to_list/1&quot;&gt;to_list/1&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;This function converts the dictionary to a list
          representation.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;update/3&quot;&gt;update/3&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;Update a value in a dictionary by calling &lt;code&gt;&lt;anno&gt;Fun&lt;/anno&gt;&lt;/code&gt; on
          the value to get a new value.  An exception is generated if
          &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; is not present in the dictionary.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;update/4&quot;&gt;update/4&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;Update a value in a dictionary by calling &lt;code&gt;&lt;anno&gt;Fun&lt;/anno&gt;&lt;/code&gt; on
          the value to get a new value.  If &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; is not present
          in the dictionary then &lt;code&gt;&lt;anno&gt;Initial&lt;/anno&gt;&lt;/code&gt; will be stored as
          the first value. For example &lt;code&gt;append/3&lt;/code&gt; could be defined
          as:&lt;/p&gt;
        &lt;pre class=&quot;sh_erlang&quot;&gt;
append(Key, Val, D) -&amp;gt;
    update(Key, fun (Old) -&amp;gt; Old ++ [Val] end, [Val], D).&lt;/pre&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;function&quot;&gt;
      &lt;h3 id=&quot;update_counter/3&quot;&gt;update_counter/3&lt;/h3&gt;
      
      &lt;div class=&quot;description&quot;&gt;
        &lt;p&gt;Add &lt;code&gt;&lt;anno&gt;Increment&lt;/anno&gt;&lt;/code&gt; to the value associated with &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt;
          and store this value.  If &lt;code&gt;&lt;anno&gt;Key&lt;/anno&gt;&lt;/code&gt; is not present in
          the dictionary then &lt;code&gt;&lt;anno&gt;Increment&lt;/anno&gt;&lt;/code&gt; will be stored as
          the first value.&lt;/p&gt;
        &lt;p&gt;This could be defined as:&lt;/p&gt;
        &lt;pre class=&quot;sh_erlang&quot;&gt;
update_counter(Key, Incr, D) -&amp;gt;
    update(Key, fun (Old) -&amp;gt; Old + Incr end, Incr, D).&lt;/pre&gt;
        &lt;p&gt;but is faster.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class=&quot;section&quot;&gt;
    &lt;h4&gt;Notes&lt;/h4&gt;
    &lt;p&gt;The functions &lt;code&gt;append&lt;/code&gt; and &lt;code&gt;append_list&lt;/code&gt; are included
      so we can store keyed values in a list &lt;em&gt;accumulator&lt;/em&gt;. For
      example:&lt;/p&gt;
    &lt;pre class=&quot;sh_erlang&quot;&gt;
&amp;gt; D0 = orddict:new(),
  D1 = orddict:store(files, [], D0),
  D2 = orddict:append(files, f1, D1),
  D3 = orddict:append(files, f2, D2),
  D4 = orddict:append(files, f3, D3),
  orddict:fetch(files, D4).
[f1,f2,f3]    &lt;/pre&gt;
    &lt;p&gt;This saves the trouble of first fetching a keyed value,
      appending a new value to the list of stored values, and storing
      the result.
      &lt;/p&gt;
    &lt;p&gt;The function &lt;code&gt;fetch&lt;/code&gt; should be used if the key is known to
      be in the dictionary, otherwise &lt;code&gt;find&lt;/code&gt;.&lt;/p&gt;
  &lt;/div&gt;

  &lt;div class=&quot;section&quot;&gt;
    &lt;h4&gt;See Also&lt;/h4&gt;
    &lt;p&gt;&lt;a href=&quot;dict.html&quot; class=&quot;seealso&quot;&gt;dict(3)&lt;/a&gt;,
      &lt;a href=&quot;gb_trees.html&quot; class=&quot;seealso&quot;&gt;gb_trees(3)&lt;/a&gt;&lt;/p&gt;
  &lt;/div&gt;

      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        &lt;ul id=&quot;funs&quot;&gt;&lt;li&gt;&lt;a href=&quot;#append&quot;&gt;append&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#append_list&quot;&gt;append_list&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#erase&quot;&gt;erase&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#fetch&quot;&gt;fetch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#fetch_keys&quot;&gt;fetch_keys&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#filter&quot;&gt;filter&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#find&quot;&gt;find&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#fold&quot;&gt;fold&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#from_list&quot;&gt;from_list&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#is_key&quot;&gt;is_key&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#map&quot;&gt;map&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#merge&quot;&gt;merge&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#new&quot;&gt;new&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#size&quot;&gt;size&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#is_empty&quot;&gt;is_empty&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#store&quot;&gt;store&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#to_list&quot;&gt;to_list&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#update&quot;&gt;update&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#update-1&quot;&gt;update-1&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#update_counter&quot;&gt;update_counter&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
