<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>diameter_make (diameter) -  - erldocs.com (Erlang Documentation)</title>
    <link rel="search" type="application/opensearchdescription+xml" title="erldocs" href="/search.xml"/>
    <link type="text/css" rel="stylesheet" href="../erldocs.css"/>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_require', 'inpage_linkid', '//www.google-analytics.com/plugins/ga/inpage_linkid.js']);
      _gaq.push(['_setAccount', 'UA-44246018-1']);
      _gaq.push(['_setDomainName', 'erldocs.com']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        


&lt;h1&gt;diameter_make&lt;/h1&gt;
&lt;h2 class=&quot;modsummary&quot;&gt;Diameter dictionary compilation.&lt;/h2&gt;

&lt;div class=&quot;description&quot;&gt;

&lt;p&gt;
The function &lt;a href=&quot;#codec-2&quot; class=&quot;seealso&quot;&gt;codec/2&lt;/a&gt; is used to compile a diameter
&lt;a href=&quot;diameter_dict.html&quot; class=&quot;seealso&quot;&gt;dictionary file&lt;/a&gt; into Erlang source.
The resulting source implements the interface diameter required
to encode and decode the dictionary&#039;s messages and AVPs.&lt;/p&gt;

&lt;p&gt;
The utility &lt;a href=&quot;diameterc.html&quot; class=&quot;seealso&quot;&gt;diameterc(1)&lt;/a&gt; provides an alternate compilation
interface.&lt;/p&gt;

&lt;/div&gt;

&lt;div class=&quot;functions&quot;&gt;&lt;h4&gt;Functions&lt;/h4&gt;&lt;hr  /&gt;

&lt;div class=&quot;function&quot;&gt;
&lt;h3 id=&quot;codec/1&quot;&gt;codec(File :: iolist() | binary(), [Opt]) -&amp;gt; ok
                                                 | {ok, [Out]}
                                                 | {error, Reason}&lt;/h3&gt;

&lt;div class=&quot;description&quot;&gt;

&lt;p&gt;
Compile a single dictionary file.
The input &lt;code&gt;File&lt;/code&gt; can be either a path or a literal dictionary,
the occurrence of newline (ascii NL) or carriage return (ascii CR)
identifying the latter.
&lt;code&gt;Opt&lt;/code&gt; determines the format of the results and whether they are
written to file or returned, and can have the following types.&lt;/p&gt;

&lt;taglist&gt;

&lt;dt&gt;&lt;code&gt;parse | forms | erl | hrl&lt;/code&gt;&lt;/dt&gt;
&lt;item&gt;
&lt;p&gt;
Specifies an output format.
Whether the output is returned or written to file depends on whether
or not option &lt;code&gt;return&lt;/code&gt; is specified.
When written to file, the resulting file(s) will have extensions
&lt;code&gt;.D&lt;/code&gt;, &lt;code&gt;.F&lt;/code&gt;, &lt;code&gt;.erl&lt;/code&gt;, and &lt;code&gt;.hrl&lt;/code&gt;
respectively, basenames defaulting to &lt;code&gt;dictionary&lt;/code&gt; if the input
dictionary is literal and does not specify &lt;code&gt;&lt;a href=&quot;diameter_dict.html#name&quot; class=&quot;seealso&quot;&gt;@name&lt;/a&gt;&lt;/code&gt;.
When returned, results are in the order of the corresponding format
options.
Format options default to &lt;code&gt;erl&lt;/code&gt; and &lt;code&gt;hrl&lt;/code&gt; (in this order) if
unspecified.&lt;/p&gt;

&lt;p&gt;
The &lt;code&gt;parse&lt;/code&gt; format is an internal representation that can be
passed to &lt;a href=&quot;#flatten-1&quot; class=&quot;seealso&quot;&gt;flatten/1&lt;/a&gt; and &lt;a href=&quot;#format-1&quot; class=&quot;seealso&quot;&gt;format/1&lt;/a&gt;, while the &lt;code&gt;forms&lt;/code&gt; format can be
passed to &lt;a href=&quot;../compiler/compile.html#forms-2&quot; class=&quot;seealso&quot;&gt;compile:forms/2&lt;/a&gt;.
The &lt;code&gt;erl&lt;/code&gt; and &lt;code&gt;hrl&lt;/code&gt; formats are returned as
iolists.&lt;/p&gt;
&lt;/item&gt;

&lt;dt&gt;&lt;code&gt;{include, string()}&lt;/code&gt;&lt;/dt&gt;
&lt;item&gt;
&lt;p&gt;
Prepend the specified directory to the code path.
Use to point at beam files compiled from inherited dictionaries,
&lt;code&gt;&lt;a href=&quot;diameter_dict.html#inherits&quot; class=&quot;seealso&quot;&gt;@inherits&lt;/a&gt;&lt;/code&gt; in a dictionary file creating a beam
dependency, not an erl/hrl dependency.&lt;/p&gt;

&lt;p&gt;
Multiple &lt;code&gt;include&lt;/code&gt; options can be specified.&lt;/p&gt;
&lt;/item&gt;

&lt;dt&gt;&lt;code&gt;{outdir, string()}&lt;/code&gt;&lt;/dt&gt;
&lt;item&gt;
&lt;p&gt;
Write generated source to the specified directory.
Defaults to the current working directory.
Has no effect if option &lt;code&gt;return&lt;/code&gt; is specified.&lt;/p&gt;
&lt;/item&gt;

&lt;dt&gt;&lt;code&gt;return&lt;/code&gt;&lt;/dt&gt;
&lt;item&gt;
&lt;p&gt;
Return results in a &lt;code&gt;{ok, [Out]}&lt;/code&gt; tuple instead of writing to
file and returning &lt;code&gt;ok&lt;/code&gt;.&lt;/p&gt;
&lt;/item&gt;

&lt;dt&gt;&lt;code&gt;{name|prefix, string()}&lt;/code&gt;&lt;/dt&gt;
&lt;item&gt;
&lt;p&gt;
Transform the input dictionary before compilation, setting
&lt;code&gt;&lt;a href=&quot;diameter_dict.html#name&quot; class=&quot;seealso&quot;&gt;@name&lt;/a&gt;&lt;/code&gt; or &lt;code&gt;&lt;a href=&quot;diameter_dict.html#prefix&quot; class=&quot;seealso&quot;&gt;@prefix&lt;/a&gt;&lt;/code&gt; to the specified
string.&lt;/p&gt;
&lt;/item&gt;

&lt;dt&gt;&lt;code&gt;{inherits, string()}&lt;/code&gt;&lt;/dt&gt;
&lt;item&gt;
&lt;p&gt;
Transform the input dictionary before compilation, appending
&lt;code&gt;&lt;a href=&quot;diameter_dict.html#inherits&quot; class=&quot;seealso&quot;&gt;@inherits&lt;/a&gt;&lt;/code&gt; of the specified string.&lt;/p&gt;

&lt;p&gt;
Two forms have special meaning:&lt;/p&gt;

&lt;pre class=&quot;sh_erlang&quot;&gt;
{inherits, &quot;-&quot;}
{inherits, &quot;Prev/Mod&quot;}
&lt;/pre&gt;

&lt;p&gt;
The first has the effect of clearing any previous inherits, the second
of replacing a previous inherits of &lt;code&gt;Prev&lt;/code&gt; to one of &lt;code&gt;Mod&lt;/code&gt;.
This allows the semantics of the input dictionary to be changed without
modifying the file itself.&lt;/p&gt;

&lt;p&gt;
Multiple &lt;code&gt;inherits&lt;/code&gt; options can be specified.&lt;/p&gt;
&lt;/item&gt;

&lt;/taglist&gt;

&lt;p&gt;
Note that a dictionary&#039;s &lt;code&gt;&lt;a href=&quot;diameter_dict.html#name&quot; class=&quot;seealso&quot;&gt;@name&lt;/a&gt;&lt;/code&gt;, together with the
&lt;code&gt;outdir&lt;/code&gt; option, determine the output paths when the
&lt;code&gt;return&lt;/code&gt; option is not specified.
The &lt;code&gt;&lt;a href=&quot;diameter_dict.html#name&quot; class=&quot;seealso&quot;&gt;@name&lt;/a&gt;&lt;/code&gt; of a literal input dictionary defaults to
&lt;code&gt;dictionary&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;
A returned error reason can be converted into a readable string using
&lt;a href=&quot;#format_error-1&quot; class=&quot;seealso&quot;&gt;format_error/1&lt;/a&gt;.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;function&quot;&gt;
&lt;h3 id=&quot;format/1&quot;&gt;format(Parsed) -&amp;gt; iolist()&lt;/h3&gt;

&lt;div class=&quot;description&quot;&gt;
&lt;p&gt;
Turns a parsed dictionary, as returned by &lt;a href=&quot;#codec-2&quot; class=&quot;seealso&quot;&gt;codec/2&lt;/a&gt;, back into the
dictionary format.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;function&quot;&gt;
&lt;h3 id=&quot;flatten/1&quot;&gt;flatten(Parsed) -&amp;gt; term()&lt;/h3&gt;

&lt;div class=&quot;description&quot;&gt;

&lt;p&gt;
Reconstitute a parsed dictionary, as returned by &lt;a href=&quot;#codec-2&quot; class=&quot;seealso&quot;&gt;codec/2&lt;/a&gt;, without
using &lt;code&gt;&lt;a href=&quot;diameter_dict.html#inherits&quot; class=&quot;seealso&quot;&gt;@inherits&lt;/a&gt;&lt;/code&gt;.
That is, construct an equivalent dictionary in which all AVP&#039;s are
definined in the dictionary itself.
The return value is also a parsed dictionary.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;function&quot;&gt;
&lt;h3 id=&quot;format_error/1&quot;&gt;format_error(Reason) -&amp;gt; string()&lt;/h3&gt;

&lt;div class=&quot;description&quot;&gt;

&lt;p&gt;
Turn an error reason returned by &lt;a href=&quot;#codec-2&quot; class=&quot;seealso&quot;&gt;codec/2&lt;/a&gt; into a readable string.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class=&quot;section&quot;&gt;
&lt;h4&gt;BUGS&lt;/h4&gt;

&lt;p&gt;
Unrecognized options are silently ignored.&lt;/p&gt;
&lt;/div&gt;

&lt;div class=&quot;section&quot;&gt;
&lt;h4&gt;SEE ALSO&lt;/h4&gt;

&lt;p&gt;
&lt;a href=&quot;diameterc.html&quot; class=&quot;seealso&quot;&gt;diameterc(1)&lt;/a&gt;, &lt;a href=&quot;diameter_dict.html&quot; class=&quot;seealso&quot;&gt;diameter_dict(4)&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;


      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        &lt;ul id=&quot;funs&quot;&gt;&lt;li&gt;&lt;a href=&quot;#codec/1&quot;&gt;codec/1&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#format/1&quot;&gt;format/1&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#flatten/1&quot;&gt;flatten/1&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;#format_error/1&quot;&gt;format_error/1&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
