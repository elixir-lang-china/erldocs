<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>diameter_sctp (diameter) -  - erldocs.com (Erlang Documentation)</title>
    <link rel="search" type="application/opensearchdescription+xml" title="erldocs" href="/search.xml"/>
    <link type="text/css" rel="stylesheet" href="../erldocs.css"/>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_require', 'inpage_linkid', '//www.google-analytics.com/plugins/ga/inpage_linkid.js']);
      _gaq.push(['_setAccount', 'UA-44246018-1']);
      _gaq.push(['_setDomainName', 'erldocs.com']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        


&lt;h1&gt;diameter_sctp&lt;/h1&gt;
&lt;h2 class=&quot;modsummary&quot;&gt;Diameter transport over SCTP.&lt;/h2&gt;

&lt;div class=&quot;description&quot;&gt;

&lt;p&gt;
This module implements diameter transport over SCTP using &lt;a href=&quot;../kernel/gen_sctp.html&quot; class=&quot;seealso&quot;&gt;gen_sctp(3)&lt;/a&gt;.
It can be specified as the value of a transport_module option to
&lt;a href=&quot;diameter.html#add_transport-2&quot; class=&quot;seealso&quot;&gt;diameter:add_transport/2&lt;/a&gt;
and implements the behaviour documented in
&lt;a href=&quot;diameter_transport.html&quot; class=&quot;seealso&quot;&gt;diameter_transport(3)&lt;/a&gt;.&lt;/p&gt;

&lt;span id=&quot;start&quot;&gt; &lt;/span&gt;
&lt;/div&gt;

&lt;div class=&quot;functions&quot;&gt;&lt;h4&gt;Functions&lt;/h4&gt;&lt;hr  /&gt;

&lt;div class=&quot;function&quot;&gt;
&lt;h3 id=&quot;start/4&quot;&gt;start({Type, Ref}, Svc, [Opt])
         -&amp;gt; {ok, Pid, [LAddr]} | {error, Reason}&lt;/h3&gt;

&lt;ul class=&quot;type&quot;&gt;
&lt;li&gt;&lt;code&gt;Type = connect | accept&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ref = &lt;a href=&quot;diameter.html#transport_ref&quot; class=&quot;seealso&quot;&gt;diameter:transport_ref()&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Svc = #diameter_service{}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Opt = OwnOpt | SctpOpt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Pid = pid()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LAddr = &lt;a href=&quot;../kernel/inet.html#type-ip_address&quot; class=&quot;seealso&quot;&gt;inet:ip_address()&lt;/a&gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Reason = term()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OwnOpt = {raddr, &lt;a href=&quot;../kernel/inet.html#type-ip_address&quot; class=&quot;seealso&quot;&gt;inet:ip_address()&lt;/a&gt;}
          | {rport, integer()}
          | {accept, Match}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SctpOpt = term()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Match = &lt;a href=&quot;../kernel/inet.html#type-ip_address&quot; class=&quot;seealso&quot;&gt;inet:ip_address()&lt;/a&gt; | string() | [Match]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;description&quot;&gt;

&lt;p&gt;
The start function required by &lt;a href=&quot;diameter_transport.html&quot; class=&quot;seealso&quot;&gt;diameter_transport(3)&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;
Options &lt;code&gt;raddr&lt;/code&gt; and &lt;code&gt;rport&lt;/code&gt; specify the remote address
and port for a connecting transport and not valid for a listening
transport: the former is required while latter defaults to 3868 if
unspecified.
Multiple &lt;code&gt;raddr&lt;/code&gt; options can be specified, in which case the
connecting transport in question attempts each in sequence until
an association is established.&lt;/p&gt;

&lt;p&gt;
Option &lt;code&gt;accept&lt;/code&gt; specifies remote addresses for a listening
transport and is not valid for a connecting transport.
If specified, a remote address that does not match one of the
specified addresses causes the association to be aborted.
Multiple &lt;code&gt;accept&lt;/code&gt; options can be specified.
A string-valued &lt;code&gt;Match&lt;/code&gt; that does not parse as an address is
interpreted as a regular expression.&lt;/p&gt;

&lt;p&gt;
Remaining options are any accepted by &lt;a href=&quot;../kernel/gen_sctp.html#open-1&quot; class=&quot;seealso&quot;&gt;gen_sctp:open/1&lt;/a&gt;, with the exception
of options &lt;code&gt;mode&lt;/code&gt;, &lt;code&gt;binary&lt;/code&gt;, &lt;code&gt;list&lt;/code&gt;, &lt;code&gt;active&lt;/code&gt;
and &lt;code&gt;sctp_events&lt;/code&gt;.
Note that options &lt;code&gt;ip&lt;/code&gt; and &lt;code&gt;port&lt;/code&gt; specify the local address
and port respectively.&lt;/p&gt;

&lt;p&gt;
Multiple &lt;code&gt;ip&lt;/code&gt; options can be specified for a multihomed peer.
If none are specified then the values of &lt;code&gt;Host-IP-Address&lt;/code&gt;
in the &lt;code&gt;diameter_service&lt;/code&gt; record are used.
(In particular, one of these must be specified.)
Option &lt;code&gt;port&lt;/code&gt; defaults to 3868 for a listening transport and 0 for a
connecting transport.&lt;/p&gt;

&lt;div class=&quot;warning&quot;&gt;&lt;h2&gt;Warning!&lt;/h2&gt;
&lt;p&gt;
An insufficiently large receive buffer may result in a peer having to
resend incoming messages: set the &lt;a href=&quot;../kernel/inet.html&quot; class=&quot;seealso&quot;&gt;inet(3)&lt;/a&gt; option &lt;code&gt;recbuf&lt;/code&gt; to increase
the buffer size.&lt;/p&gt;

&lt;p&gt;
An insufficiently large send buffer may result in outgoing messages
being discarded: set the &lt;a href=&quot;../kernel/inet.html&quot; class=&quot;seealso&quot;&gt;inet(3)&lt;/a&gt; option &lt;code&gt;sndbuf&lt;/code&gt; to increase
the buffer size.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;
The &lt;code&gt;transport_data&lt;/code&gt; field of record &lt;code&gt;diameter_packet&lt;/code&gt;
is used to communicate the stream on which an inbound message
has been received, or on which an outbound message should be sent.
The value will be of the form &lt;code&gt;{stream, Id}&lt;/code&gt; for an inbound
message passed to a &lt;a href=&quot;../diameter_app#Mod/handle_request-3.html&quot; class=&quot;seealso&quot;&gt;handle_request/3&lt;/a&gt; or &lt;a href=&quot;../diameter_app#Mod/handle_answer-4.html&quot; class=&quot;seealso&quot;&gt;handle_answer/4&lt;/a&gt;
callback.
For an outbound message, &lt;code&gt;{outstream, Id}&lt;/code&gt; in the return value of
&lt;a href=&quot;../diameter_app#Mod/handle_request-3.html&quot; class=&quot;seealso&quot;&gt;handle_request/3&lt;/a&gt; or &lt;a href=&quot;../diameter_app#Mod/prepare_retransmit-3.html&quot; class=&quot;seealso&quot;&gt;prepare_retransmit/3&lt;/a&gt; sets the outbound
stream, the stream id being interpreted modulo the number of outbound
streams.
Any other value, or not setting a value, causes successive such sends
to cycle though all outbound streams.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;div class=&quot;section&quot;&gt;
&lt;h4&gt;SEE ALSO&lt;/h4&gt;

&lt;p&gt;
&lt;a href=&quot;diameter.html&quot; class=&quot;seealso&quot;&gt;diameter(3)&lt;/a&gt;, &lt;a href=&quot;diameter_transport.html&quot; class=&quot;seealso&quot;&gt;diameter_transport(3)&lt;/a&gt;, &lt;a href=&quot;../kernel/gen_sctp.html&quot; class=&quot;seealso&quot;&gt;gen_sctp(3)&lt;/a&gt;, &lt;a href=&quot;../kernel/inet.html&quot; class=&quot;seealso&quot;&gt;inet(3)&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;


      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        &lt;ul id=&quot;funs&quot;&gt;&lt;li&gt;&lt;a href=&quot;#start/4&quot;&gt;start/4&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
